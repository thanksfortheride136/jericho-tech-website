/* ===== Course page layout (sketch) ===================== */

/* Page header */
.course-hero { padding: 2rem 0 1rem; }
.course-hero .back { text-decoration: none; color: var(--muted); font-weight: 600; }
.course-hero .back:hover { text-decoration: underline; }
.course-hero h1 { margin:.35rem 0 .5rem; color: var(--navy); font-size: clamp(1.6rem, 1.1rem + 2.2vw, 2.2rem); line-height: 1.2; }
.course-hero .lede { margin: 0; color: var(--muted); max-width: 75ch; }

/* Top split: media left, text right */
.course-split {
  display: grid;
  grid-template-columns: minmax(280px, 500px) 1fr;
  gap: clamp(16px, 4vw, 40px);
  align-items: start;
  margin: .75rem 0 1.75rem;
  border-bottom: 1px solid rgba(0,0,0,.06);
  padding-bottom: 1.25rem;
}

/* Media block */
.course-media img, .course-media video {
  width: 100%; height: auto; display: block;
  border-radius: 14px; box-shadow: var(--shadow); background: #000;
}

/* Buttons under media */
.action-row { display:flex; gap:.7rem; margin-top:.8rem; }
.btn {
  display:inline-flex; align-items:center; justify-content:center; gap:.45rem;
  padding:.62rem .95rem; border-radius:12px; border:1px solid rgba(0,0,0,.10);
  background:#fff; color:var(--navy); font-weight:700; text-decoration:none;
  box-shadow:0 1px 0 rgba(0,0,0,.03);
}
.btn:hover { box-shadow: var(--shadow); }
.btn:focus-visible { outline:3px solid rgba(91,47,176,.35); outline-offset:2px; }

/* Meta + long description */
.meta { display:grid; gap:.25rem; margin:.25rem 0 1rem; color:var(--muted); font-size:.98rem; }
.meta strong { color: var(--navy); }
.course-body p { margin:.4rem 0 1rem; }
.course-body ul { margin:.4rem 0 1rem 1.2rem; }

/* Projects section */
.gallery-wrap { margin-top:1.6rem; margin-bottom:2.5rem; } /* spacing above footer */
.gallery-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:.6rem; }
.gallery-head h2 { margin:0; color:var(--navy); font-size:1.2rem; }

/* ---- Scroller with side arrows ---- */
.scroller-wrap {
  position: relative;
  isolation: isolate; /* keeps fades above scroller but below arrows if needed */
}

.scroller {
  display:grid; grid-auto-flow:column; grid-auto-columns:minmax(220px, 28%);
  gap:12px; overflow-x:auto; padding: .1rem 0 .5rem; scroll-snap-type:x mandatory;
  scrollbar-width:none;      /* Firefox hide */
}
.scroller::-webkit-scrollbar { display:none; } /* WebKit hide */

.scroller > figure {
  scroll-snap-align:start; margin:0; background:#fff; border:1px solid rgba(0,0,0,.06);
  border-radius:14px; overflow:hidden; box-shadow:var(--shadow); cursor:zoom-in;
}

/* Make both image and video tiles identical size */
.scroller img,
.scroller video {
  width:100%;
  height:180px;
  object-fit:cover;
  display:block;
}

/* Caption */
.scroller figcaption { padding:.6rem .75rem; font-size:.92rem; color:var(--muted); }

/* Side arrows */
.gallery-arrow {
  position:absolute; top:50%; transform: translateY(-50%);
  border:1px solid rgba(0,0,0,.12); background:#fff; border-radius:999px;
  width:40px; height:40px; display:grid; place-items:center;
  cursor:pointer; z-index:3; box-shadow: var(--shadow);
}
.gallery-arrow.left  { left: -12px; }   /* slightly outside content */
.gallery-arrow.right { right: -12px; }

.gallery-arrow:hover { filter: brightness(0.98); }

/* Optional gradient edge fades to hint scroll */
.edge-fade {
  position:absolute; top:0; bottom:0; width:48px; z-index:2; pointer-events:none;
  opacity: 0;                    /* hidden by default on first view */
  transition: opacity .2s ease;  /* smooth show/hide */
}
.left-fade  { left:0;  background: linear-gradient(to right, var(--paper), transparent); }
.right-fade { right:0; background: linear-gradient(to left,  var(--paper), transparent); }

/* When JS decides they're needed */
.edge-fade.show { opacity: 1; }

/* Larger tiles on very wide screens */
@media (min-width: 1400px){
  .scroller img,
  .scroller video { height:220px; }
}

/* Responsive stack */
@media (max-width: 900px){
  .course-split { grid-template-columns:1fr; }
  .scroller { grid-auto-columns:80%; }
  .gallery-arrow.left  { left: 4px; }
  .gallery-arrow.right { right: 4px; }
}

/* ---- Lightbox ---- */
.lightbox[hidden] { display:none !important; }
.lightbox {
  position:fixed; inset:0; background:rgba(0,0,0,.72);
  display:flex; align-items:center; justify-content:center; z-index:999; padding:24px;
}
.lightbox-content { max-width:min(1100px, 92vw); max-height:88vh; display:grid; grid-template-rows:1fr auto; gap:.6rem; }

/* Support both image and video inside the lightbox */
.lightbox img,
.lightbox video {
  max-width:100%;
  max-height:80vh;
  object-fit:contain;
  border-radius:12px;
  box-shadow:0 18px 50px rgba(0,0,0,.35);
  background:#000;
}

.lightbox-caption { text-align:center; color:#eef; font-size:.98rem; }
.lightbox-close {
  position:absolute; top:16px; right:16px; border:0; border-radius:10px; padding:.5rem .7rem;
  background:rgba(255,255,255,.9); cursor:pointer; font-weight:700;
}
.lightbox-close:hover { box-shadow: var(--shadow); }
